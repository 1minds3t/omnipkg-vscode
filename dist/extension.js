"use strict";var T=Object.create;var c=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var P=(e,s)=>{for(var i in s)c(e,i,{get:s[i],enumerable:!0})},l=(e,s,i,m)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of E(s))!I.call(e,a)&&a!==i&&c(e,a,{get:()=>s[a],enumerable:!(m=O(s,a))||m.enumerable});return e};var $=(e,s,i)=>(i=e!=null?T(H(e)):{},l(s||!e||!e.__esModule?c(i,"default",{value:e,enumerable:!0}):i,e)),B=e=>l(c({},"__esModule",{value:!0}),e);var A={};P(A,{activate:()=>q,deactivate:()=>S});module.exports=B(A);var n=$(require("vscode")),w=require("child_process"),g=require("util"),N=(0,g.promisify)(w.exec);function q(e){console.log("Omnipkg extension is now active!");let s=n.commands.registerCommand("omnipkg.install",async()=>{let o=await n.window.showInputBox({placeHolder:"requests==2.28.0 or numpy>=1.20",prompt:"Enter package name (with optional version)"});if(!o)return;let t=n.window.createTerminal("Omnipkg Install");t.show(),t.sendText(`omnipkg install ${o}`)}),i=n.commands.registerCommand("omnipkg.switch",async()=>{try{let{stdout:o}=await N("omnipkg list python"),t=[],x=o.split(`
`);for(let C of x){let p=C.match(/Python (\d+\.\d+)/);p&&t.push(p[1])}if(t.length===0){n.window.showWarningMessage('No Python versions found. Run "omnipkg python adopt <version>" first.');return}let r=await n.window.showQuickPick(t,{placeHolder:"Select Python version to switch to"});if(!r)return;let d=n.window.createTerminal("Omnipkg Switch");d.show(),d.sendText(`omnipkg swap python ${r}`)}catch(o){n.window.showErrorMessage(`Failed to get Python versions: ${o.message}`)}}),m=n.commands.registerCommand("omnipkg.list",async()=>{let o=n.window.createTerminal("Omnipkg List");o.show(),o.sendText("omnipkg list")}),a=n.commands.registerCommand("omnipkg.info",async()=>{let o=await n.window.showInputBox({placeHolder:"requests or tensorflow==2.13.0",prompt:"Enter package name to inspect"});if(!o)return;let t=n.window.createTerminal("Omnipkg Info");t.show(),t.sendText(`omnipkg info ${o}`)}),k=n.commands.registerCommand("omnipkg.uninstall",async()=>{let o=await n.window.showInputBox({placeHolder:"requests or numpy",prompt:"Enter package name to uninstall"});if(!o)return;let t=n.window.createTerminal("Omnipkg Uninstall");t.show(),t.sendText(`omnipkg uninstall ${o}`)}),v=n.commands.registerCommand("omnipkg.doctor",async()=>{let o=n.window.createTerminal("Omnipkg Doctor");o.show(),o.sendText("omnipkg doctor")}),h=n.commands.registerCommand("omnipkg.heal",async()=>{let o=n.window.createTerminal("Omnipkg Heal");o.show(),o.sendText("omnipkg heal")}),u=n.commands.registerCommand("omnipkg.demo",async()=>{let o=n.window.createTerminal("Omnipkg Demo");o.show(),o.sendText("omnipkg demo")}),y=n.commands.registerCommand("omnipkg.adopt",async()=>{let o=await n.window.showInputBox({placeHolder:"3.11 or 3.10",prompt:"Enter Python version to adopt"});if(!o)return;let t=n.window.createTerminal("Omnipkg Adopt");t.show(),t.sendText(`omnipkg python adopt ${o}`)}),f=n.commands.registerCommand("omnipkg.status",async()=>{let o=n.window.createTerminal("Omnipkg Status");o.show(),o.sendText("omnipkg status")});e.subscriptions.push(s,i,m,a,k,v,h,u,y,f)}function S(){console.log("Omnipkg extension deactivated")}0&&(module.exports={activate,deactivate});
